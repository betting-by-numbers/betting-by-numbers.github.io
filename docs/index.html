<!doctype html>
<html>
<head>
  <!-- HTML Configs -->
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">

  <!-- Tailwind CSS Import and Config -->
  <script src="https://unpkg.com/@tailwindcss/browser@4"></script>

  <!-- Import index.css stylesheet -->
  <link rel="stylesheet" href="index.css">
  <script src="https://cdn.jsdelivr.net/npm/vega@5"></script>
  <script src="https://cdn.jsdelivr.net/npm/vega-lite@5"></script>
  <script src="https://cdn.jsdelivr.net/npm/vega-embed@6"></script>

  <!-- Import Story Slides Logic -->
  <script src="scripts/story_slides.js" defer></script>

  <!-- TODO: Update Title to Project Name -->
  <title>A Sports Betting Story</title>
</head>

<body class="index-body">

  <!-- HEADER: Will store navigational elements, title, etc -->
  <header class="index-header max-w-[1920px] mx-auto">
    <h1 class="text-white ">A Sports Betting Story</h1>
  </header>

  <!-- MAIN: Main content of a page will go here -->
  <main class="index-main">
    <p class="text-white text-center">Hello, World! Many great things to come here!</p>
    
    <!-- @Hannah SECTION: Interactive Chart -->
    <section class="mx-5 my-5">
      <h1 class="text-white text-center">Interactive Chart</h1>
      <div>
        <h1>Demographic Visualization</h1>
    
        <select class="text-white" id="chartType">
            <option value="gender">Gender</option>
            <option value="race">Race</option>
            <option value="age">Age Group</option>
            <option value="region">Region</option>
            <option value = "education">Education</option>
        </select>
    
        <div id="vis"></div>
    
        <script>
            // Gender Chart Specification
            // TODO: Prepare the gender date using JS (rather than reading
            // from a JSON file or hard-coding the data)
            const genderData =  () => {
            const data = { values: [] };
            const maleCount = 65;
            const femaleCount = 35;

            for (let i = 1; i <= maleCount; i++) {
                data.values.push({ id: i, sex: "male" });
            }

            for (let i = maleCount + 1; i <= maleCount + femaleCount; i++) {
                data.values.push({ id: i, sex: "female" });
            }

            return data;
        };

        const genderChartData = genderData();


            const genderSpec = {
                "$schema": "https://vega.github.io/schema/vega-lite/v5.json",
                "description": "Gender Distribution",
                "config": {
                  "axis": {
                    "labelFont": "Arial",
                    "titleFont": "Arial"
                  },
                    "legend": {
                        "orient": "top",
                        "title": null,
                        "labelFont": "Arial",
                         "symbolType": "circle",
                         "symbolSize": 70,
                         "labelColor": "#333",
                        "padding": 10,
                        "cornerRadius": 5
                    },
                    "view": {"stroke": ""},
                    "title": {
                        "font": "Arial",
                        "fontSize": 16,
                        "color": "#333",
                        "anchor": "start"
                    }
                },
                "width": 400,
                "height": 300,
                "data": genderChartData,
                "transform": [
                    {"calculate": "ceil (datum.id/10)", "as": "col"},
                    {"calculate": "datum.id - datum.col*10", "as": "row"}
                ],
                "mark": {"type": "point", "filled": true},
                "encoding": {
                    "x": {"field": "col", "type": "ordinal", "axis": null},
                    "y": {"field": "row", "type": "ordinal", "axis": null},
                    "shape": {
                        "value": "M1.7 -1.7h-0.8c0.3 -0.2 0.6 -0.5 0.6 -0.9c0 -0.6 -0.4 -1 -1 -1c-0.6 0 -1 0.4 -1 1c0 0.4 0.2 0.7 0.6 0.9h-0.8c-0.4 0 -0.7 0.3 -0.7 0.6v1.9c0 0.3 0.3 0.6 0.6 0.6h0.2c0 0 0 0.1 0 0.1v1.9c0 0.3 0.2 0.6 0.3 0.6h1.3c0.2 0 0.3 -0.3 0.3 -0.6v-1.8c0 0 0 -0.1 0 -0.1h0.2c0.3 0 0.6 -0.3 0.6 -0.6v-2c0.2 -0.3 -0.1 -0.6 -0.4 -0.6z"
                    },
                    "color": {"field": "sex", "type": "nominal",
                        "scale": {
                            "domain": ["male", "female"],
                            "range": ["#66B2FF", "#FF80CC"] // softer colors
                        },
                         "legend": {"title": "Gender"}  // Add a legend title
                    },
                    "size": {"value": 80} // Slightly smaller points
                },
                "title": {
                    "text": "Gender Distribution", // Chart title
                    "fontSize": 18,
                    "anchor": "middle",
                    "color": "#333"
                },
                "params": [{"name": "highlight", "select": "interval"}]
            };
    
    
            // Race Chart Specification

            const raceData =  () => {
            const data = { values: [] };
            const whiteCount = 50;
            const blackCount = 18;
            const latinoCount = 24; 
            const asianCount = 5; 
            const otherCount = 3;

            for (let i = 1; i <= whiteCount; i++) {
                data.values.push({ id: i, race: "white" });
            }

            for (let i = blackCount + 1; i <= whiteCount + blackCount; i++) {
                data.values.push({ id: i, race: "black" });
            }

            for (let i = latinoCount + 1; i <= whiteCount + blackCount + latinoCount; i++) {
                data.values.push({ id: i, race: "latino" });
            }

            for (let i = asianCount + 1; i <= whiteCount + blackCount + latinoCount + asianCount; i++) {
                data.values.push({ id: i, race: "asian" });
            }

            for (let i = otherCount + 1; i <= whiteCount + blackCount + latinoCount + asianCount + otherCount; i++) {
                data.values.push({ id: i, race: "other" });
            }

            return data;
        };

        const raceChartData = raceData();

            const raceSpec = {
                "$schema": "https://vega.github.io/schema/vega-lite/v5.json",
                "description": "Race Distribution",
                "config": {
                  "axis": {
                    "labelFont": "Arial",
                    "titleFont": "Arial"
                  },
                    "legend": {
                        "orient": "top",
                        "title": null,
                        "labelFont": "Arial",
                         "symbolType": "circle",
                         "symbolSize": 70,
                         "labelColor": "#333",
                        "padding": 10,
                        "cornerRadius": 5
                    },
                    "view": {"stroke": ""},
                    "title": {
                        "font": "Arial",
                        "fontSize": 16,
                        "color": "#333",
                        "anchor": "start"
                    }
                },
                "width": 400,
                "height": 300,
                "data":  raceChartData,
                "transform": [
                    {"calculate": "ceil (datum.id/10)", "as": "col"},
                    {"calculate": "datum.id - datum.col*10", "as": "row"}
                ],
                "mark": {"type": "point", "filled": true},
                "encoding": {
                    "x": {"field": "col", "type": "ordinal", "axis": null},
                    "y": {"field": "row", "type": "ordinal", "axis": null},
                    "shape": {
                        "value": "M1.7 -1.7h-0.8c0.3 -0.2 0.6 -0.5 0.6 -0.9c0 -0.6 -0.4 -1 -1 -1c-0.6 0 -1 0.4 -1 1c0 0.4 0.2 0.7 0.6 0.9h-0.8c-0.4 0 -0.7 0.3 -0.7 0.6v1.9c0 0.3 0.3 0.6 0.6 0.6h0.2c0 0 0 0.1 0 0.1v1.9c0 0.3 0.2 0.6 0.3 0.6h1.3c0.2 0 0.3 -0.3 0.3 -0.6v-1.8c0 0 0 -0.1 0 -0.1h0.2c0.3 0 0.6 -0.3 0.6 -0.6v-2c0.2 -0.3 -0.1 -0.6 -0.4 -0.6z"
                    },
                    "color": {"field": "race", "type": "nominal",
                        "scale": {
                            "domain": ["white", "black", "latino", "asian", 'other'],
                            "range": ["red", "white", "blue", "pink", "grey"] // Softer purples
                        },
                         "legend": {"title": "Race"} // Add a legend title
                    },
                    "size": {"value": 80}
                },
                  "title": {
                    "text": "Race Distribution", // Chart title
                    "fontSize": 18,
                    "anchor": "middle",
                    "color": "#333"
                },
                "params": [{"name": "highlight", "select": "interval"}]
            };
          // Age Chart Specification
          const ageData =  () => {
    const data = { values: [] };
    const youngCount = 46;
    const midyoungCount = 38;
    const midoldCount = 11; 
    const oldCount = 5; 
    

    for (let i = 1; i <= youngCount; i++) {
        data.values.push({ id: i, age: "18-34" });
    }

    for (let i = midyoungCount + 1; i <= youngCount + midyoungCount; i++) {
        data.values.push({ id: i, age: "35-49" });
    }

    for (let i = midoldCount + 1; i <= youngCount + midyoungCount + midoldCount; i++) {
        data.values.push({ id: i, age: "50-64" });
    }

    for (let i = oldCount + 1; i <= youngCount + midyoungCount + midoldCount + oldCount; i++) {
        data.values.push({ id: i, age: "65+" });
    }

    

    return data;
};

const ageChartData = ageData();

             const ageSpec = {
                "$schema": "https://vega.github.io/schema/vega-lite/v5.json",
                "description": "Age Group Distribution",
                "config": {
                  "axis": {
                    "labelFont": "Arial",
                    "titleFont": "Arial"
                  },
                    "legend": {
                        "orient": "top",
                        "title": null,
                        "labelFont": "Arial",
                         "symbolType": "circle",
                         "symbolSize": 70,
                         "labelColor": "#333",
                        "padding": 10,
                        "cornerRadius": 5
                    },
                    "view": {"stroke": ""},
                    "title": {
                        "font": "Arial",
                        "fontSize": 16,
                        "color": "#333",
                        "anchor": "start"
                    }
                },
                "width": 400,
                "height": 300,
                "data": ageChartData,
                "transform": [
                    {"calculate": "ceil (datum.id/10)", "as": "col"},
                    {"calculate": "datum.id - datum.col*10", "as": "row"}
                ],
                "mark": {"type": "point", "filled": true},
                "encoding": {
                    "x": {"field": "col", "type": "ordinal", "axis": null},
                    "y": {"field": "row", "type": "ordinal", "axis": null},
                    "shape": {
                        "value": "M1.7 -1.7h-0.8c0.3 -0.2 0.6 -0.5 0.6 -0.9c0 -0.6 -0.4 -1 -1 -1c-0.6 0 -1 0.4 -1 1c0 0.4 0.2 0.7 0.6 0.9h-0.8c-0.4 0 -0.7 0.3 -0.7 0.6v1.9c0 0.3 0.3 0.6 0.6 0.6h0.2c0 0 0 0.1 0 0.1v1.9c0 0.3 0.2 0.6 0.3 0.6h1.3c0.2 0 0.3 -0.3 0.3 -0.6v-1.8c0 0 0 -0.1 0 -0.1h0.2c0.3 0 0.6 -0.3 0.6 -0.6v-2c0.2 -0.3 -0.1 -0.6 -0.4 -0.6z"
                    },
                    "color": {"field": "age", "type": "nominal",
                        "scale": {
                            "domain": ["18-34", "35-49", "50-64", "65+"],
                            "range": ["#a1dab4", "#41b6c4", "#225ea8", "#756bb1"] // Different shades of green
                        },
                         "legend": {"title": "Age Group"} // Add a legend title
                    },
                    "size": {"value": 80}
                },
                  "title": {
                    "text": "Age Group Distribution", // Chart title
                    "fontSize": 18,
                    "anchor": "middle",
                    "color": "#333"
                },
                "params": [{"name": "highlight", "select": "interval"}]
            };
            //End of Age Chart Specification
            // Region Chart Specification
            const regionData =  () => {
            const data = { values: [] };
            const northeastCount = 25;
            const southCount = 33;    
            const westCount = 22;
            const midwestCount = 20;
            for (let i = 1; i <= northeastCount; i++) {
                data.values.push({ id: i, region: "North" });
            } 
            for (let i = northeastCount + 1; i <= northeastCount + southCount; i++) {
                data.values.push({ id: i, region: "South" });
            }
            for (let i = northeastCount + southCount + 1; i <= northeastCount + southCount + westCount; i++) {
                data.values.push({ id: i, region: "West" });
            }
            for (let i = northeastCount + southCount + westCount + 1; i <= northeastCount + southCount + westCount + midwestCount; i++) {
                data.values.push({ id: i, region: "Midwest" });
            }
            return data;
        };    
        const regionChartData = regionData();
            const regionSpec = {
                "$schema": "https://vega.github.io/schema/vega-lite/v5.json",
                "description": "Age Group Distribution",
                "config": {
                  "axis": {
                    "labelFont": "Arial",
                    "titleFont": "Arial"
                  },
                    "legend": {
                        "orient": "top",
                        "title": null,
                        "labelFont": "Arial",
                         "symbolType": "circle",
                         "symbolSize": 70,
                         "labelColor": "#333",
                        "padding": 10,
                        "cornerRadius": 5
                    },
                    "view": {"stroke": ""},
                    "title": {
                        "font": "Arial",
                        "fontSize": 16,
                        "color": "#333",
                        "anchor": "start"
                    }
                },
                "width": 400,
                "height": 300,
                "data": regionChartData,
                "transform": [
                    {"calculate": "ceil (datum.id/10)", "as": "col"},
                    {"calculate": "datum.id - datum.col*10", "as": "row"}
                ],
                "mark": {"type": "point", "filled": true},
                "encoding": {
                    "x": {"field": "col", "type": "ordinal", "axis": null},
                    "y": {"field": "row", "type": "ordinal", "axis": null},
                    "shape": {
                        "value": "M1.7 -1.7h-0.8c0.3 -0.2 0.6 -0.5 0.6 -0.9c0 -0.6 -0.4 -1 -1 -1c-0.6 0 -1 0.4 -1 1c0 0.4 0.2 0.7 0.6 0.9h-0.8c-0.4 0 -0.7 0.3 -0.7 0.6v1.9c0 0.3 0.3 0.6 0.6 0.6h0.2c0 0 0 0.1 0 0.1v1.9c0 0.3 0.2 0.6 0.3 0.6h1.3c0.2 0 0.3 -0.3 0.3 -0.6v-1.8c0 0 0 -0.1 0 -0.1h0.2c0.3 0 0.6 -0.3 0.6 -0.6v-2c0.2 -0.3 -0.1 -0.6 -0.4 -0.6z"
                    },
                    "color": {"field": "region", "type": "nominal",
                        "scale": {
                            "domain": ["North", "South", "West", "Midwest"],
                            "range": ["#a1dab4", "#41b6c4", "#225ea8", "#756bb1"] // Different shades of green
                        },
                         "legend": {"title": "Region"} // Add a legend title
                    },
                    "size": {"value": 80}
                },
                  "title": {
                    "text": "Region Distribution", // Chart title
                    "fontSize": 18,
                    "anchor": "middle",
                    "color": "#333"
                },
                "params": [{"name": "highlight", "select": "interval"}]
            };
            //End Region Chart Specification
            //Education Chart Specification
            const educationData =  () => {
            const data = { values: [] };
            const nodegreeCount = 64;
            const bachelorsplusCount = 36;
            for (let i = 1; i <= nodegreeCount; i++) {
                data.values.push({ id: i, education: "No Degree" });
            }
            for (let i = nodegreeCount + 1; i <= nodegreeCount + bachelorsplusCount; i++) {
                data.values.push({ id: i, education: "Bachelor's Degree or Higher" });
            }
            return data;
        };
        
        const educationChartData = educationData();   
        
        const educationSpec = {
                "$schema": "https://vega.github.io/schema/vega-lite/v5.json",
                "description": "Education Distribution",
                "config": {
                  "axis": {
                    "labelFont": "Arial",
                    "titleFont": "Arial"
                  },
                    "legend": {
                        "orient": "top",
                        "title": null,
                        "labelFont": "Arial",
                         "symbolType": "circle",
                         "symbolSize": 70,
                         "labelColor": "#333",
                        "padding": 10,
                        "cornerRadius": 5
                    },
                    "view": {"stroke": ""},
                    "title": {
                        "font": "Arial",
                        "fontSize": 16,
                        "color": "#333",
                        "anchor": "start"
                    }
                },
                "width": 400,
                "height": 300,
                "data": educationChartData,
                "transform": [
                    {"calculate": "ceil (datum.id/10)", "as": "col"},
                    {"calculate": "datum.id - datum.col*10", "as": "row"}
                ],
                "mark": {"type": "point", "filled": true},
                "encoding": {
                    "x": {"field": "col", "type": "ordinal", "axis": null},
                    "y": {"field": "row", "type": "ordinal", "axis": null},
                    "shape": {
                        "value": "M1.7 -1.7h-0.8c0.3 -0.2 0.6 -0.5 0.6 -0.9c0 -0.6 -0.4 -1 -1 -1c-0.6 0 -1 0.4 -1 1c0 0.4 0.2 0.7 0.6 0.9h-0.8c-0.4 0 -0.7 0.3 -0.7 0.6v1.9c0 0.3 0.3 0.6 0.6 0.6h0.2c0 0 0 0.1 0 0.1v1.9c0 0.3 0.2 0.6 0.3 0.6h1.3c0.2 0 0.3 -0.3 0.3 -0.6v-1.8c0 0 0 -0.1 0 -0.1h0.2c0.3 0 0.6 -0.3 0.6 -0.6v-2c0.2 -0.3 -0.1 -0.6 -0.4 -0.6z"
                    },
                    "color": {"field": "education", "type": "nominal",
                        "scale": {
                            "domain": ["No Degree", "Bachelor's Degree or Higher"],
                            "range": ["blue", "red"] // softer colors
                        },
                         "legend": {"title": "Education"}  // Add a legend title
                    },
                    "size": {"value": 80} // Slightly smaller points
                },
                "title": {
                    "text": "Education", // Chart title
                    "fontSize": 18,
                    "anchor": "middle",
                    "color": "#333"
                },
                "params": [{"name": "highlight", "select": "interval"}]
            };
    


          
            function embedChart(spec) {
                vegaEmbed("#vis", spec, { actions: false });
            }
    
            // Initial chart load (Gender)
            embedChart(genderSpec);
            
        
    
            
        
            // Event listener for dropdown change
            document.getElementById('chartType').addEventListener('change', function() {
                const selectedChart = this.value;
                if (selectedChart === 'gender') {
                    embedChart(genderSpec);
                } else if (selectedChart === 'race') {
                    embedChart(raceSpec);
                } else if (selectedChart === 'age') {
                        embedChart(ageSpec);
                } else if (selectedChart === 'region') {
                        embedChart(regionSpec);
                } else if (selectedChart === 'education') {
                        embedChart(educationSpec);
                }
            });
    
        </script>
    </div>
    </html>
    
    </section>

    <!-- @Carlo SECTION: User Story -->
    <section class="mx-5 my-5">
      <!-- TODO: Story -->
      <div class="relative w-full max-w-3xl mx-auto h-96" id="slideshow">
        <!-- Slides container -->
        <div class="relative bg-white rounded-lg shadow-lg overflow-hidden h-full">
          <div class="slide-container">
            <div class="slide current">
              <div class="p-8">
                <h2 class="text-2xl font-bold mb-4">Slide 1</h2>
                <p class="text-gray-600">Lorem ipsum odor amet, consectetuer adipiscing elit. Quam tristique neque imperdiet magnis taciti proin fermentum. Torquent platea lacinia montes pellentesque at cursus nisi dis. Duis porta ultrices vivamus odio velit viverra penatibus. Eleifend at hac urna libero magna. Penatibus bibendum ornare nostra convallis cras torquent?</p>
              </div>
            </div>
            <div class="slide next">
              <div class="p-8">
                <h2 class="text-2xl font-bold mb-4">Slide 2</h2>
                <p class="text-gray-600">Lorem ipsum odor amet, consectetuer adipiscing elit. Quam tristique neque imperdiet magnis taciti proin fermentum. Torquent platea lacinia montes pellentesque at cursus nisi dis. Duis porta ultrices vivamus odio velit viverra penatibus. Eleifend at hac urna libero magna. Penatibus bibendum ornare nostra convallis cras torquent?</p>
              </div>
            </div>
            <div class="slide next">
              <div class="p-8">
                <h2 class="text-2xl font-bold mb-4">Slide 3</h2>
                <p class="text-gray-600">Lorem ipsum odor amet, consectetuer adipiscing elit. Quam tristique neque imperdiet magnis taciti proin fermentum. Torquent platea lacinia montes pellentesque at cursus nisi dis. Duis porta ultrices vivamus odio velit viverra penatibus. Eleifend at hac urna libero magna. Penatibus bibendum ornare nostra convallis cras torquent?</p>
              </div>
            </div>
          </div>
        </div>
      
        <!-- Navigation buttons -->
        <div class="absolute inset-y-0 left-0 flex items-center">
          <button onclick="moveSlide(-1)" class="bg-white/80 hover:bg-white rounded-r-lg p-2 text-gray-800 hover:text-gray-900 focus:outline-none cursor-pointer">
            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="m15 18-6-6 6-6"/></svg>
          </button>
        </div>
      
        <div class="absolute inset-y-0 right-0 flex items-center">
          <button onclick="moveSlide(1)" class="bg-white/80 hover:bg-white rounded-l-lg p-2 text-gray-800 hover:text-gray-900 focus:outline-none cursor-pointer">
            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="m9 18 6-6-6-6"/></svg>
          </button>
        </div>

        <!-- Slide indicators -->
        <div class="absolute bottom-4 left-0 right-0 flex justify-center gap-2">
          <button onclick="showSlide(0)" class="slide-dot w-2 h-2 rounded-full bg-blue-600 cursor-pointer"></button>
          <button onclick="showSlide(1)" class="slide-dot w-2 h-2 rounded-full bg-gray-300 cursor-pointer"></button>
          <button onclick="showSlide(2)" class="slide-dot w-2 h-2 rounded-full bg-gray-300 cursor-pointer"></button>
        </div>
      </div>
    
      <!-- TODO: Attribution -->

    </section>

  </main>

  <!-- FOOTER: TBD -->
  <footer class="index-footer mx-auto">
    <p class="text-white text-center">this is the footer!</p>
  </footer>

  <!-- User Story JS Code -->
  <script>
    // Global: Track slide elements in the DOM
    const slides = document.querySelectorAll('.slide');
    const dots = document.querySelectorAll('.slide-dot');
  </script>

</body>
</html>